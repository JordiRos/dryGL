//
//  Camera.cpp
//  dryGL
//
//  Created by Jordi Ros on 15/02/13.
//  Copyright (c) 2013 Jordi Ros. All rights reserved.
//

#include "dry.h"
#include "Camera.h"

using namespace dry;


//------------------------------------------------------------------------------------------------
// Camera
//
//------------------------------------------------------------------------------------------------
Camera::Camera()
{
    m_Position = glm::vec3(0.f, 0.f, 0.f);
    m_Target   = glm::vec3(0.f, 0.f, 1.f);
    m_Up       = glm::vec3(0.f, 1.f, 0.f);
    Update();
}


//------------------------------------------------------------------------------------------------
// LookAt
//
//------------------------------------------------------------------------------------------------
void Camera::LookAt(glm::vec3 const &position, glm::vec3 const &target, glm::vec3 const &up)
{
    m_Position = position;
    m_Target   = target;
    m_Up       = up;
    Update();
}


//------------------------------------------------------------------------------------------------
// SetPosition
//
//------------------------------------------------------------------------------------------------
void Camera::SetPosition(glm::vec3 const &position)
{
    m_Position = position;
    Update();
}


//------------------------------------------------------------------------------------------------
// SetTarget
//
//------------------------------------------------------------------------------------------------
void Camera::SetTarget(glm::vec3 const &target)
{
    m_Target = target;
    Update();
}


//------------------------------------------------------------------------------------------------
// SetUp
//
//------------------------------------------------------------------------------------------------
void Camera::SetUp(glm::vec3 const &up)
{
    m_Up = up;
    Update();
}


//------------------------------------------------------------------------------------------------
// Update
//
//------------------------------------------------------------------------------------------------
void Camera::Update()
{
    m_MatView = glm::lookAt(m_Position, m_Target, m_Up);
}
